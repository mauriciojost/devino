# README

A simple remote Raspberry based platform/procedures/whatever to control under-development platformio/Arduino projects. Goals:

- store Arduino projects serial logs for debugging purposes
- re-program them remotely if required
- reset them remotely if required

## Install

```
sudo apt-get install moreutils python-pip
sudo pip install platformio==3.5.3

```

## Steps

0. (optional) Install `Raspbian` in your `Raspberry PI Zero W` (or any Raspberry you like).
1. Install `platformio-core`
2. Schedule hourly the script `hourly-cron`.
```
0 * * * * /path/to/devino/hourly-cron
```

# Device logs

All module is Under directory `devlogs`.

Using `tmux` or `screen` dump the devices logs under `devlogs/devXX.log` files, as follows:

```
./monitor-serial $ttyUSBnumber &>> devXX.log
```

Logs generated by devices (dumped from serial port) must be named such that they match the following glob expression: `devlogs/dev*.log` to be log rotated safely.

Make sure that `hourly-cron` is correctly installed (see README.md).

## About logrotate standard installation 

The tool `logrotate` runs daily thanks to:

```
/etc/cron.daily/logrotate
```

Unfortunately you cannot add symlinks to `/etc/logrotate.d/` where the system would perform the log rotation without much effort.

